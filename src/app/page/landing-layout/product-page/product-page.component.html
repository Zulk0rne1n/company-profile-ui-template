<div class="product-page-content">
  <div class="intro">
    <div class="left">
      <app-card
          [headerTemplate]="headerTemplate"
          [bodyTemplate]="bodyTemplate"
          [bottomWrapperTemplate]="bottomWrapperTemplate"
          [cardClass]="'transparent-card'"
          class="product-card">
        <ng-template #headerTemplate>
          <div class="header">
            <h3>{{ product.name }}</h3>
          </div>
        </ng-template>
        <ng-template #bodyTemplate>
          <div class="body">
            <h5>{{ product.description }}</h5>
            <div class="button-wrapper" *ngIf="product.openSource">
              <app-brand-button (click)="redirect()" [icon]="environmentCommon.website.github.cssClass"
                                [text]="'Open Source'"></app-brand-button>

              <app-button (click)="router.navigate([URLS.contactUs])"
                          [text]="'Professional Help'"></app-button>
            </div>
            <div class="button-wrapper" *ngIf="!product.openSource">
              <app-button (click)="router.navigate([URLS.contactUs])"
                          [text]="productLineKey === 'services' ? 'Contact Us' : 'Request for Demo'"></app-button>
            </div>
          </div>
        </ng-template>
        <ng-template #bottomWrapperTemplate>
        </ng-template>
      </app-card>
    </div>
    <div class="right">
      <app-product-presentation
          [productLineKey]="productLineKey"
          [product]="product"
      ></app-product-presentation>
    </div>
  </div>

  <div *ngIf="product.counters" class="counters">
    <a
        *ngFor="let counter of product.counters"
        [href]="
      environmentCommon.website.github.url +
      '/' +
      environmentCommon.oth.social.github
    "
        class="counter-wrapper"
        rel="noopener"
        target="_blank"
    >
      <h2 *ngIf="counter.value" class="counter" id="npmCounterElement">
        {{ counter.value }}
      </h2>
      <h4>
        {{ counter.name }}
      </h4>
    </a>
  </div>

  <ng-container [ngSwitch]="productLineKey">
    <ng-container [ngSwitch]="product.key" *ngSwitchCase="'services'">
      <div class="testimonials-header">
        <h2>Customer Testimonials</h2>
        <h4>What our customers are saying...</h4>
      </div>
      <div class="testimonials-wrapper">
        <app-testimonial-card
            *ngFor="let testimonial of TESTIMONIALS"
            [testimonial]="testimonial"
        >
        </app-testimonial-card>
      </div>
      <div class="partners-wrapper">
        <app-swiper-wrapper
            [partners]="PARTNERS"
            [isGrayscale]="true"
            [isNavigationEnabled]="true"
            [height]="100"
            [isPaginationEnabled]="true"
            [breakpoints]="{
          '640': {
            slidesPerView: 1,
            spaceBetween: 30
          },
          '768': {
            slidesPerView: 2,
            spaceBetween: 40
          },
          '1000': {
            slidesPerView: 3,
            spaceBetween: 50
          }
        }"
        >
        </app-swiper-wrapper>
      </div>
    </ng-container>
    <ng-container [ngSwitch]="product.key" *ngSwitchDefault>
      <div class="pricing-plan-wrapper">
        <app-price-plan
            [productLineKey]="productLineKey"
            [product]="product"
        ></app-price-plan>
      </div>
      <div class="hero">
        <div class="hero-content">
          <h2>Related Products</h2>
        </div>
      </div>
      <div class="related-products-wrapper">
        <ng-container *ngFor="let productLine of PRODUCT_LINES">
          <ng-container
              *ngIf="productLineKey === 'premium' ? productLine.key === 'servers' : (productLine.key === productLineKey || productLine.key === 'premium')">
            <ng-container *ngFor="let relatedProduct of productLine.products">
              <app-presentation-card *ngIf="product.key !== relatedProduct.key" class="related-product"
                                     [class]="relatedProduct.color ? relatedProduct.color + '-theme' : ''"
                                     [title]="relatedProduct.name"
                                     [footerText]="relatedProduct.openSource ? '#opensource' : '#premium'"
                                     [src]="relatedProduct.logo" [secondaryText]="relatedProduct.description"
                                     [presentationItemClass]="'product-item'" [imgHeight]="150"
                                     [href]="URLS.product + '/' + productLine.key + '/' + relatedProduct.key"></app-presentation-card>
            </ng-container>
          </ng-container>
        </ng-container>
      </div>
    </ng-container>
  </ng-container>
</div>
